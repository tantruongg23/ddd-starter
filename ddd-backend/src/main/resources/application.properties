# Application Configuration
spring.application.name=ddd-ecommerce-service

# Server Configuration
server.port=8080

# PostgreSQL Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/ddd-starter
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=admin

# JPA / Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration
spring.flyway.clean-disabled=false

# Jackson Configuration (using defaults for Spring Boot 4.x)

# HATEOAS Configuration
spring.hateoas.use-hal-as-default-json-media-type=true

# Logging
logging.level.tony.ddd=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG

# ========== Business Configuration ==========

# Order Configuration
order.minimum-amount=10.00
order.default-currency=USD

# Catalog Configuration
catalog.default-currency=USD
catalog.price-precision=2

# ========== OpenAPI Documentation ==========

# Disable SpringDoc HATEOAS integration (compatibility fix for Spring Boot 3.5.x)
springdoc.enable-hateoas=false

# API documentation path
springdoc.api-docs.path=/api/v1/api-docs
springdoc.api-docs.enabled=true

# Swagger UI configuration
springdoc.swagger-ui.path=/api/v1/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.doc-expansion=list
springdoc.swagger-ui.default-models-expand-depth=2
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.filter=true
springdoc.swagger-ui.show-extensions=true
springdoc.swagger-ui.show-common-extensions=true

# Default media type
springdoc.default-produces-media-type=application/hal+json
springdoc.default-consumes-media-type=application/json

# Include path patterns
springdoc.paths-to-match=/api/v1/**

# Group configuration
springdoc.group-configs[0].group=all
springdoc.group-configs[0].display-name=Full API
springdoc.group-configs[0].paths-to-match=/api/v1/**

springdoc.group-configs[1].group=catalog
springdoc.group-configs[1].display-name=Product Catalog API
springdoc.group-configs[1].paths-to-match=/api/v1/products/**

springdoc.group-configs[2].group=orders
springdoc.group-configs[2].display-name=Order Management API
springdoc.group-configs[2].paths-to-match=/api/v1/orders/**
